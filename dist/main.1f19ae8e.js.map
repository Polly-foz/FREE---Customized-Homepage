{"version":3,"sources":["main.js"],"names":["localSiteList","JSON","parse","localStorage","getItem","hashMap","id","icon","url","categoryName","siteName","key","$globalMain","$","checkIcon","checkUrl","indexOf","checkCategoryName","checkSiteName","addSiteToList","console","log","push","Date","getTime","setItem","stringify","render","createCategory","$categoryAdderWrapper","$categoryWrapper","insertBefore","click","attr","first","dialog","modal","buttons","val","find","showEditDialog","siteNodeIndex","siteNode","findIndex","node","splice","createSite","site","$siteContainer","window","open","on","e","target","hasClass","parent","timeOutEvent","setTimeout","clearTimeout","stopPropagation","remove","forEach","index","categoryIsExisted","$sitesContainer","each","$this","html","next"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const localSiteList = JSON.parse(localStorage.getItem('siteList'))\nconst hashMap = localSiteList || [\n    {id:0,icon:'B', url:'https://www.bilibili.com', categoryName:\"视频\", siteName:\"哔哩哔哩～\", key:'B'},\n    {id:1,icon:'B', url:'https://www.baidu.com', categoryName:\"搜索\", siteName:'百度',key:'A'},\n    {id:2,icon:'G', url:'https://www.google.com', categoryName:\"搜索\", siteName:'谷歌',key:'G'},\n    {id:3,icon:'I', url:'https://www.iconfont.cn', categoryName:\"前端资源\", siteName:'Iconfont', key:'I'},\n    {id:4,icon:'G', url:'https://www.github.com/Polly-foz', categoryName:'关于我', siteName:'我的github', key:'P'},\n    {id:5,icon:'B', url:'https://yangpeiya.xyz/posts', categoryName:'关于我', siteName:'我的blog', key:'Y'}\n\n]\n\nconst $globalMain = $('.globalMain')\n\nconst checkIcon = (icon) => {\n    return icon||'?'\n}\n\nconst checkUrl = (url) => {\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    return url\n}\n\nconst checkCategoryName = (categoryName) => {\n    return categoryName || \"未分类\"\n}\n\nconst checkSiteName = (siteName) => {\n    return siteName||\"(未命名)\"\n}\n\nconst addSiteToList = (icon,url,categoryName,siteName) => {\n    icon = checkIcon(icon)\n    url = checkUrl(url)\n    categoryName = checkCategoryName(categoryName)\n    siteName = checkSiteName(siteName)\n    key = '?'\n    console.log(key)\n    hashMap.push({\n        id: new Date().getTime(),\n        icon:icon,\n        url:url,\n        categoryName:categoryName,\n        siteName:siteName,\n        key:key,\n    })\n    localStorage.setItem('siteList', JSON.stringify(hashMap))\n    render()\n}\n\n\nconst createCategory = (categoryName) => {\n    let $categoryAdderWrapper = $(\".categoryAdderWrapper\")\n    let $categoryWrapper = $(`\n        <div class=\"categoryWrapper\">\n            <p class=\"categoryName\">${categoryName}</p>\n            <div class=\"sitesContainer\">\n                <div class=\"siteAdderContainer siteContainer\" category=${categoryName}>\n                    <div class=\"siteAdderIconWrapper siteIconWrapper\">\n                        <svg class=\"icon siteAdderIcon siteIcon\">\n                            <use xlink:href=\"#iconjia\"></use>\n                        </svg>\n                    </div>\n                    <div class=\"siteName\">\n                        添加快捷方式\n                    </div>\n                </div>\n            </div>\n            <hr class=\"categoryDivider\">\n        </div>\n    `)\n    $categoryWrapper.insertBefore($categoryAdderWrapper)\n    $(\".siteAdderContainer\").click(function(){\n        // e.stopPropagation()\n        // console.log($(this).first().attr(\"category\"))\n        // console.log($(this).parent().html())\n        // let categoryName = $(this).html()\n        // console.log(categoryName)\n\n        $( \"#siteAddCategoryNameInput\" ).attr(\"value\",$(this).first().attr(\"category\"))\n        // $( \"#siteCategoryNameLabel\" ).html(categoryName)\n        $( \"#siteAddDialog\" ).dialog({\n            modal: true,\n            buttons: {\n                \"确认\": function() {\n                    addSiteToList($(\"#siteAddIconInput\").val(),$(\"#siteAddUrlInput\").val(),\n                        $(\"#siteAddCategoryNameInput\").val(),$(\"#siteAddNameInput\").val()\n                    )\n                    $( this ).dialog( \"close\" );\n                },\n                \"取消\": function() {\n                    $( this ).dialog( \"close\" );\n                }\n            },\n        }).dialog(\"open\")\n        render()\n    })\n    return $categoryWrapper.find(\".sitesContainer\")\n}\n\nconst showEditDialog = function(id){\n    let siteNodeIndex\n    let siteNode\n    if(id) {\n        siteNodeIndex = hashMap.findIndex((node) => {\n            return node.id == id\n        })\n        siteNode = hashMap[siteNodeIndex]\n        $(\"#siteEditUrlInput\").attr(\"value\", siteNode.url)\n        $(\"#siteEditNameInput\").attr(\"value\", siteNode.siteName)\n        $(\"#siteEditCategoryNameInput\").attr(\"value\", siteNode.categoryName)\n        $(\"#siteEditIconInput\").attr(\"value\", siteNode.icon)\n    }else{\n        $(\"#siteEditUrlInput\").attr(\"value\", '')\n        $(\"#siteEditNameInput\").attr(\"value\", '')\n        $(\"#siteEditCategoryNameInput\").attr(\"value\", '')\n        $(\"#siteEditIconInput\").attr(\"value\", '')\n    }\n    $( \"#siteEditDialog\" ).dialog({\n        modal: true,\n        buttons: {\n            \"删除\": function(){\n                hashMap.splice(siteNodeIndex,1)\n                localStorage.setItem(\"siteList\",JSON.stringify(hashMap))\n                render()\n                $( this ).dialog( \"close\" );\n            },\n            \"确认\": function() {\n                siteNode.icon = checkIcon($(\"#siteEditIconInput\").val())\n                siteNode.url = checkUrl($(\"#siteEditUrlInput\").val())\n                siteNode.categoryName = checkCategoryName($(\"#siteEditCategoryNameInput\").val())\n                siteNode.siteName = checkSiteName($(\"#siteEditNameInput\").val())\n                render()\n                localStorage.setItem('siteList', JSON.stringify(hashMap))\n                $( this ).dialog( \"close\" );\n            },\n            \"取消\": function() {\n                $( this ).dialog( \"close\" );\n            }\n        },\n    }).dialog(\"open\")\n}\n\nconst createSite = (site) => {\n    let $siteContainer = $(`\n        <div class=\"siteContainer\" id=\"${site.id}\">\n            <div class=\"siteIconWrapper\">\n                <div class=\"siteIcon\">\n                    ${site.icon}\n                </div>\n            </div>\n            <div class=\"siteName\">\n                ${site.siteName}\n            </div>\n            <svg class=\"icon editMenu\">\n                <use xlink:href=\"#icongengduo\"></use>\n            </svg>\n        </div>\n    `)\n    $siteContainer.click(()=>{\n        window.open(site.url)\n    })\n    $siteContainer.on(\"touchstart\",function(e) {\n        // 长按事件触发\n        let $siteContainer = $(e.target)\n        while(!$siteContainer.hasClass(\"siteContainer\")){\n            // console.log($siteContainer)\n            $siteContainer = $siteContainer.parent()\n        }\n        let id = $siteContainer.attr(\"id\")\n        // console.log($siteContainer)\n        timeOutEvent = setTimeout(function(e) {\n            timeOutEvent = 0;\n            showEditDialog(id)\n        }, 400);\n            //长按400毫秒\n            // e.preventDefault();\n    })\n    $siteContainer.on(\"touchmove\",function() {\n        clearTimeout(timeOutEvent);\n        timeOutEvent = 0;\n    })\n    $siteContainer.on(\"touchend\", function() {\n        clearTimeout(timeOutEvent);\n        if (timeOutEvent != 0) {\n            // 点击事件\n            // location.href = '/a/live-rooms.html';\n            // alert('你点击了');\n            window.open(site.url)\n        }return false;\n    })\n\n    // $siteContainer.on(\"tap\",function(){\n    //     window.open(site.url)\n    // });\n    // $siteContainer.on(\"taphold\",function(){\n    //     alert(\"长按\")\n    // });\n    $siteContainer.find(\".editMenu\").click(function(e){\n        e.stopPropagation() // 阻止冒泡\n        let id = $(this).parent().attr(\"id\")\n        // console.log(\"id\",id)\n        showEditDialog(id)\n    })\n    return $siteContainer\n}\n\nconst render = () => {\n    $(\".categoryWrapper\").remove()\n    hashMap.forEach((node, index) => {\n        // 判断站点所属分类是否存在\n        let categoryName = node.categoryName\n        // console.log(\"categoryName:\",categoryName)\n        let categoryIsExisted = false\n        let $sitesContainer\n        $globalMain.find(\".categoryName\").each(function(index){\n            if(!categoryIsExisted) {\n                let $this = $(this)\n                if ($this.html() === categoryName) {//该分类已存在\n                    categoryIsExisted = true\n                    $sitesContainer = $this.next(\".sitesContainer\")\n                }\n            }\n        })\n        if(!categoryIsExisted){//该分类不存在则创建分类\n            $sitesContainer = createCategory(categoryName)\n        }\n        // console.log(`sitesContainer:${$sitesContainer.html()}`)\n        // console.log(`siteName:${node.siteName}`)\n\n        // 创建站点\n        let $siteContainer = createSite(node)\n        // console.log($sitesContainer.find(\".siteAdderContainer\").html())\n        $siteContainer.insertBefore($sitesContainer.find(\".siteAdderContainer\"))\n    })\n}\n\n// 第一次打开网站时先渲染\nrender()\n\n$(\".categoryAdderWrapper\").click(function(){\n    showEditDialog()\n})\n\n\n\n"]}